# bootc-image-builder configuration
# Generated by Ansible - do not edit manually

[customizations.installer.kickstart]
contents = """
{{ bootc_iso_installer_mode }}

keyboard {{ bootc_iso_keyboard }}
lang {{ bootc_iso_lang }}
timezone {{ bootc_iso_timezone }} --utc

bootloader --append="{{ bootc_iso_kernel_args }}"

{% if not bootc_iso_use_all_disks | bool %}
ignoredisk --only-use=disk/by-id/{{ bootc_iso_target_disk_id }}
{% endif %}
clearpart --all --initlabel --disklabel=gpt
autopart --type=lvm --fstype={{ bootc_iso_rootfs }}

authselect --passalgo=sha512 --useshadow
rootpw --lock
user --name={{ bootc_iso_user_name }} --groups={{ bootc_iso_user_groups | join(',') }} --iscrypted --password={{ _bootc_iso_password_hash }}

network --bootproto=dhcp --activate --hostname={{ bootc_iso_hostname }}
services --enabled=sshd

{{ bootc_iso_shutdown_command }}
"""
